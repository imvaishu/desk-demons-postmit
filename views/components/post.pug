mixin post(post)
  .card(onclick=`expandPost('${post.postId}')`)
    .post(id=`post_${post.postId}`)
      .delete
        if post.isDeletable
          i(class="fas fa-trash" onclick=`showDeletePopUp(${post.postId})`)
      .flex
        .profile-pic
          span= post.initials
        .user-details
          .name
            span= post.name 
            span(class="timestamp")= ` ãƒ» ${post.postedAt}`
          .username
            a(href=`/user/${post.username}`)= `@${post.username}`
      .post-content
            each line in post.message.split(/\n/)
              - let replacedLine=post.mentions.reduce((line,user) => line.replace(new RegExp(user),`<a class="mention" href="/user/${user.slice(1)}">${user}</a>`),line) 
              - replacedLine=post.hashtags.reduce((line,hashtag) => line.replace(new RegExp(`#${hashtag}`),`<a class="mention" href="/hashtag/${hashtag}">#${hashtag}</a>`),line) 
              != replacedLine
              br
      .actions.flex
        .action
          - let className="far fa-heart icon likeBtn";
          - let countClass = "likeBtn"
          if post.isLiked
           - className="fas fa-heart icon likeColor"
           - countClass = "likeColor"
          i(class=className onclick=`toggleLikeUnlike(${post.postId})` id=`like_${post.postId}`) 
          span(class=`count ${countClass}`)= post.likedUsers.length?post.likedUsers.length:''
    i(class='fas fa-heart fa-3x instagramLike' id=`heart_${post.postId}` ondblclick=`displayHeart(${post.postId})`) 
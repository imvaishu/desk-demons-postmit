doctype
html(lang='en')
    head
        meta(charset='UTF-8')
        meta(name='viewport' content='width=device-width, initial-scale=1.0')
        link(rel='stylesheet' href='/styles/styles.css' type='text/css')
        link(href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css' rel='stylesheet')
        link(rel='stylesheet' href='/styles/profile.css' type='text/css')
        link(rel='stylesheet' href='/styles/deletePopUp.css' type='text/css')
        script(src="/js/popup.js")
        script(src="/js/request.js")
        script(src="/js/index.js")
        title Postmit
    body
    .root
        .menu
            div
                .app-name POSTMIT
                .pages
                    a.page(href='/home') Home
                    a(class=`page ${isMyProfile ? 'active-page' : ''}` href= isMyProfile ? '#' : `/user/${loggedUser}`) Profile
                    a.page(href=`/user/bookmarks`) Bookmarks
                    a.page(href='/logout') Logout
                    - let postPlaceholder = "What's Happening"
                    button.popup-post-btn(onclick=`showPopup("${postPlaceholder}", 'addNewPost')`) Post
        .main-panel
            .header
                span Profile
            .profile
            .big-profile
                .profile-box
                    .initials= initials
                .details
                    .name= name
                    .name.username= `@${username}`
            .bio= bio
            .joined_date
                img(src='/assets/calendar.svg' alt='Joined Date')
                div
                    span Joined on #{joinedDate}
            .extra-details
                div.flex
                    a(href=`/user/${username}/following` class="link") 
                        span.count= following.length
                        span Following
                    a(href=`/user/${username}/followers` class="link") 
                        span.count= followers.length
                        span Followers
                if !isMyProfile
                    div.follow-btn-wrapper
                        button.follow-btn.primary-btn(onclick=`toggleFollowUnfollow('${username}')`)= isFollowing ? 'Unfollow' : 'Follow'
            block posts
        .search-panel
            .search-bar.flex
              .search-icon
                img(src='/assets/search.svg' alt='Search')
              .search-input(onkeyup='search()')
               input(type='text' placeholder='Search')
            .search-output